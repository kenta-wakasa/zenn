---
title: "ã€Flutterã€‘ãƒ©ã‚¤ãƒ•ã‚²ãƒ¼ãƒ ãã‚Œã¯äººç”Ÿ"
emoji: "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [flutter, firebase, web, dart]
published: true
---

# ã¯ã˜ã‚ã«

ã™ã”ã‚ãã®æ–¹ã§ã¯ãªã„[äººç”Ÿã‚²ãƒ¼ãƒ ](https://ja.wikipedia.org/wiki/ãƒ©ã‚¤ãƒ•ã‚²ãƒ¼ãƒ )ã‚’ Flutter web ã§ä½œã£ã¦ã¿ã¾ã—ãŸã€‚
:::details ç’°å¢ƒ
ãƒã‚·ãƒ³: M1 MacBook Air
ã‚¨ãƒ‡ã‚£ã‚¿: VSCode
ãƒªãƒã‚¸ãƒˆãƒª: https://github.com/kenta-wakasa/game_of_life
:::

# ä½œã£ãŸã‚‚ã®

https://twitter.com/pressedkonbu/status/1355750891085721608

ãƒ©ã‚¤ãƒ•ã‚²ãƒ¼ãƒ ã¨ã„ã†ã®ã¯ã€å°ã•ãªã‚»ãƒ«ãŒã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã«å¾“ã£ã¦ç”Ÿã¾ã‚ŒãŸã‚Šæ­»ã‚“ã ã‚Šã™ã‚‹ã‚²ãƒ¼ãƒ ã§ã™ã€‚

## éŠã³æ–¹

1. ã‚»ãƒ«ã‚’å¥½ãã«å¡—ã‚Šã¤ã¶ã—ã¦åˆæœŸæ¡ä»¶ã‚’æ±ºå®šã™ã‚‹
1. å†ç”Ÿãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ã‚¹ã‚¿ãƒ¼ãƒˆ
1. çœºã‚ã‚‹

ç‰¹ã«ã‚²ãƒ¼ãƒ æ€§ã¯ãªã„ã®ã§ã™ãŒã€å˜ç´”ãªãƒ«ãƒ¼ãƒ«ã§è¤‡é›‘ãªå›³å½¢ãŒç”Ÿãã¦ã„ã‚‹ã‚ˆã†ã«å‹•ãã¾ã™ã€‚

ã“ã‚ŒãŒä¸æ€è­°ã§ã€çœºã‚ã¦ã„ã‚‹ã¨ãªã‚“ã ã‹è½ã¡ç€ãã€ãã‚“ãªã‚²ãƒ¼ãƒ ã§ã™ã€‚

[ã“ã“](https://game-of-life-93ab9.web.app/#/)ã‹ã‚‰éŠã¹ã‚‹ã®ã§ã€çœ ã‚Œãªã„å¤œã«ã©ã†ãã€‚

# ãƒ©ã‚¤ãƒ•ã‚²ãƒ¼ãƒ ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 

ãƒ©ã‚¤ãƒ•ã‚²ãƒ¼ãƒ ã§ã¯ã‚»ãƒ«ãŒç”Ÿã¨æ­»ã®çŠ¶æ…‹ã‚’æŒã£ã¦ã„ã¾ã™ã€‚

ãã‚Œã‚‰ã®ã‚»ãƒ«ã®å‘¨å›² 8 ãƒã‚¹ã«ç”Ÿãã¦ã„ã‚‹ã‚»ãƒ«ãŒä½•å€‹ã„ã‚‹ã‹ã§æ¬¡ã®ä¸–ä»£ã§ã®ç”Ÿæ­»ãŒæ±ºå®šã—ã¾ã™ã€‚

ç”Ÿãã¦ã„ã‚‹ã‚»ãƒ«ã¨ã€æ­»ã‚“ã§ã„ã‚‹ã‚»ãƒ«ã®ãã‚Œãã‚Œã¤ã„ã¦ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚

## ç”Ÿãã¦ã„ã‚‹ã‚»ãƒ«

**å‘¨å›²ã«ç”Ÿãã¦ã„ã‚‹ã‚»ãƒ«ãŒ 2 ã¤ã‹ 3 ã¤ã®å ´åˆ**ã«æ¬¡ã®ä¸–ä»£ã§ç”Ÿãæ®‹ã‚Œã‚‹ã€‚

## æ­»ã‚“ã§ã„ã‚‹ã‚»ãƒ«

**å‘¨å›²ã«ç”Ÿãã¦ã„ã‚‹ã‚»ãƒ«ãŒ 3 ã¤ã®å ´åˆ**ã«æ¬¡ã®ä¸–ä»£ã§ç”Ÿãè¿”ã‚Œã‚‹ã€‚

## å…·ä½“ä¾‹

æ¬¡ã®ã‚ˆã†ã«ã‚»ãƒ«ã‚’è¡¨ã—ã¾ã™ã€‚
ç”Ÿãã¦ã„ã‚‹ â†’ ğŸŸ 
æ­»ã‚“ã§ã„ã‚‹ â†’ ğŸ”µ
çœŸã‚“ä¸­ã®ã‚»ãƒ«ãŒã©ã†ãªã‚‹ã‹ã«ã¤ã„ã¦ã¿ã¦ã„ãã¾ã™ã€‚

### ç”Ÿãæ®‹ã‚Œã‚‹ä¾‹

```
ğŸŸ ğŸŸ ğŸ”µ ã€€ã€€ã€€ã€€ ğŸ”µğŸŸ ğŸ”µ ã€€ã€€ã€€ã€€ ğŸ”µğŸ”µğŸŸ  ã€€ã€€ã€€ã€€ ğŸŸ ğŸ”µğŸ”µ
ğŸŸ ğŸŸ ğŸ”µ ã€€ã€€ã€€ã€€ ğŸŸ ğŸŸ ğŸŸ  ã€€ã€€ã€€ã€€ ğŸ”µğŸŸ ğŸ”µ ã€€ã€€ã€€ã€€ ğŸ”µğŸŸ ğŸŸ 
ğŸ”µğŸ”µğŸ”µ ã€€ã€€ã€€ã€€ ğŸ”µğŸŸ ğŸ”µ ã€€ã€€ã€€ã€€ ğŸŸ ğŸ”µğŸ”µ ã€€ã€€ã€€ã€€ ğŸ”µğŸ”µğŸ”µ
```

### æ­»ã‚“ã§ã—ã¾ã†ä¾‹

```
ğŸŸ ğŸŸ ğŸ”µ ã€€ã€€ã€€ã€€ ğŸŸ ğŸŸ ğŸŸ  ã€€ã€€ã€€ã€€ ğŸ”µğŸ”µğŸ”µ ã€€ã€€ã€€ã€€ ğŸ”µğŸ”µğŸ”µ
ğŸŸ ğŸŸ ğŸ”µ ã€€ã€€ã€€ã€€ ğŸŸ ğŸŸ ğŸŸ  ã€€ã€€ã€€ã€€ ğŸ”µğŸŸ ğŸ”µ ã€€ã€€ã€€ã€€ ğŸ”µğŸŸ ğŸ”µ
ğŸ”µğŸ”µğŸŸ  ã€€ã€€ã€€ã€€ ğŸŸ ğŸŸ ğŸŸ  ã€€ã€€ã€€ã€€ ğŸŸ ğŸ”µğŸ”µ ã€€ã€€ã€€ã€€ ğŸ”µğŸ”µğŸ”µ
```

### ç”Ÿãè¿”ã‚Œã‚‹ä¾‹

```
ğŸŸ ğŸŸ ğŸ”µ ã€€ã€€ã€€ã€€ ğŸŸ ğŸŸ ğŸŸ  ã€€ã€€ã€€ã€€ ğŸŸ ğŸ”µğŸ”µ ã€€ã€€ã€€ã€€ ğŸ”µğŸ”µğŸŸ 
ğŸ”µğŸ”µğŸ”µ ã€€ã€€ã€€ã€€ ğŸ”µğŸ”µğŸ”µ ã€€ã€€ã€€ã€€ ğŸ”µğŸ”µğŸŸ  ã€€ã€€ã€€ã€€ ğŸ”µğŸ”µğŸ”µ
ğŸ”µğŸ”µğŸŸ  ã€€ã€€ã€€ã€€ ğŸ”µğŸ”µğŸ”µ ã€€ã€€ã€€ã€€ ğŸ”µğŸŸ ğŸ”µ ã€€ã€€ã€€ã€€ ğŸŸ ğŸ”µğŸŸ 
```

ã–ã£ãã‚Šã„ã†ã¨ã€å­¤ç‹¬ã™ãã¦ã‚‚å¯†é›†ã—ã™ãã¦ã‚‚æ­»ã‚“ã§ã—ã¾ã†ã®ã§ã™ã€‚
ã¡ã‚‡ã†ã©ã‚ˆã„è·é›¢æ„Ÿã®ã¨ãã«ç¹æ „ã—ã¾ã™ã€‚

ã‚ã‚äººç”Ÿã€‚

# å®Ÿè£…æ–¹é‡

1. Cell class ã®å®Ÿè£…
1. ã‚»ãƒ«ã®æç”»
1. åˆæœŸæ¡ä»¶ã®æ±ºã‚æ–¹
1. ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®å®Ÿè£…

# 1. Cell class ã®å®Ÿè£…

ã‚»ãƒ«ã¯ width Ã— height ã®æ•°ã ã‘

```dart
List.generate(width * height, (index) => false);
```

ã¿ãŸã„ãªæ„Ÿã˜ã§ç”Ÿæˆã—ã¦ã—ã¾ã†ã®ãŒä¸€ç•ªæ—©ã„ã¨æ€ã„ã¾ã™ã€‚

ä¸€æ¬¡å…ƒé…åˆ—ã§ã‚ã£ã¦ã‚‚

```
0 1 2
3 4 5
6 7 8
```

ã“ã®ã‚ˆã†ã«ã¨ã‚‰ãˆã¦ã‚ã’ã‚Œã°ã‚ˆã„ã‚ã‘ã§ã™ã€‚
ã“ã®ã¨ãã® x åº§æ¨™ã¨ y åº§æ¨™ã¯

```
x: index  % width
y: index ~/ width
```

ã§è¡¨ç¾ã§ãã¾ã™ã­ã€‚

ã§ã™ãŒä»Šå›ã¯ã‚ã–ã‚ã– x åº§æ¨™ã¨ y åº§æ¨™ã‚’ç›´æ¥æŒãŸã›ãŸã‚¯ãƒ©ã‚¹ã‚’ä½œã‚Šã¾ã—ãŸã€‚

ã“ã¡ã‚‰ã®æ–¹ãŒç›´æ„Ÿçš„ãªã®ã§å¯èª­æ€§ãŒä¸ŠãŒã‚‹ã¨æ€ã£ãŸã‚“ã§ã™ã‚ˆã­ã€‚

```dart:cell.dart
import 'dart:math';

import 'package:flutter/material.dart';

@immutable
class Cell {
  const Cell({
    this.alive = false,
    @required this.pos,
  });

  /// æŒã£ã¦ã„ã‚‹å¤‰æ•°ã¯ã“ã®äºŒã¤ã ã‘ã§ã™ã€‚
  /// point ã¯ math.dart ã§å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚ x ã¨ y ã‚’æŒã¤ã®ã§ä½¿ã‚ã›ã¦ã‚‚ã‚‰ã£ã¦ã„ã¾ã™ã€‚
  final bool alive;
  final Point<int> pos;

  Cell copyWith({bool alive, Point<int> pos}) =>
      Cell(alive: alive ?? this.alive, pos: pos ?? this.pos);

  /// ã“ã‚Œã¯ width ã¨ height ã‚’ä¸ãˆã‚‹ã¨ãã®æ•°åˆ†ã®ãƒªã‚¹ãƒˆã‚’ç”Ÿæˆã—ã¦ãã‚Œã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã§ã™ã€‚
  static List<Cell> generateCells(int width, int height) {
    final cellList = <Cell>[];
    for (var y = 0; y < height; y++) {
      for (var x = 0; x < width; x++) {
        cellList.add(Cell(pos: Point<int>(x, y)));
      }
    }
    return cellList;
  }

  /// ã“ã‚Œã¯ index ã‹ã‚‰ åº§æ¨™å¤‰æ›ã®é€†ã§ã™ã­ã€‚
  /// åº§æ¨™ã‹ã‚‰ index ã«å¤‰æ›ã—ã¦ã„ã¾ã™ã€‚
  /// ã›ã£ã‹ã x ã¨ y ã®æƒ…å ±ã‚’æŒãŸã›ãŸã®ã«ã¨æ€ã£ãŸãã“ã®ã‚ãªãŸã€‚è‡ªåˆ†ã‚‚ãã†æ€ã„ã¾ã—ãŸã€‚
  /// ã§ã™ãŒã€index ä½¿ã£ãŸæ–¹ãŒæ¤œç´¢æ€§ãŒé«˜ãã¦éƒ½åˆãŒã„ã„ã‚“ã§ã™ã‚ˆã­ã€‚
  static int pointToIndex(Point<int> point, int width) {
    return point.x + point.y * width;
  }

  /// å‘¨å›²ã®ã‚»ãƒ«ã®å ´æ‰€ã‚’è¿”ã™ãƒ¡ã‚½ãƒƒãƒ‰ã§ã™
  /// (-1, -1) ( 0, -1), ( 1, -1)
  /// (-1,  0) ( 0,  0), ( 1,  0)
  /// (-1,  1) ( 0,  1), ( 1,  1)
  /// ã“ã®ã‚ˆã†ã«è€ƒãˆã‚‹ã¨ è‡ªåˆ†ã®ä½ç½®ã‹ã‚‰ x ã¨ã€€yã€€ã®æ–¹å‘ã« -1 ã ã‘ãšã‚ŒãŸã¨ã“ã‚ã‹ã‚‰é–‹å§‹ã—ã¦
  /// å…¥ã‚Œå­ã® for ã‚’å›ã›ã°ã‚ˆã•ãã†ã§ã™ã­ã€‚ã‚ã¨ã¯è‡ªåˆ†è‡ªèº«ã¯é™¤ãå‡¦ç†ã‚’åŠ ãˆã‚Œã°å®Œæˆã§ã™ã€‚
  List<Point<int>> get getPointAroundMe {
    final pointList = <Point<int>>[];
    for (var x = 0; x < 3; x++) {
      for (var y = 0; y < 3; y++) {
        final point = Point<int>(pos.x - 1 + x, pos.y - 1 + y);
        if (pos != point) {
          pointList.add(point);
        }
      }
    }
    return pointList;
  }
}
```

# 2. ã‚»ãƒ«ã®æç”»

Flutter ã«ã¯ã‚»ãƒ«ã‚’è¡¨ç¾ã™ã‚‹æ–¹æ³•ãŒã„ãã¤ã‹ã‚ã‚Šã¾ã™ã€‚
ã±ã£ã¨æ€ã„ã¤ã„ãŸã®ã¯ [GridView](https://api.flutter.dev/flutter/widgets/GridView-class.html) ã§ [Container](https://api.flutter.dev/flutter/widgets/Container-class.html) ã‚’ä¸¦ã¹ã‚‹æ–¹æ³•ã§ã™ã€‚

```dart
GridView.builder(
    gridDelegate: SliverGridDelegateWithFixedCrossAxisCount(
        crossAxisCount: width
    ),
    itemCount: width * height,
    itemBuilder: (BuildContext context, int index) {
        return Container( è‰²ã¨ã‹å¤§ãã•ã¨ã‹ );
    },
)
```

ã“ã‚“ãªæ„Ÿã˜ã§ã„ã‘ãã†ã§ã™ã‚ˆã­ã€‚

ã§ã™ãŒ 100 Ã— 100 ãã‚‰ã„ã®è¦æ¨¡ã®ã‚»ãƒ«ã‚’ä¸¦ã¹ã‚‹ã¨ã€ã‹ãªã‚Šã®é‡ã•ã§å‹•ããŒå›ºã¾ã£ã¦ã—ã¾ã„ã¾ã—ãŸã€‚

ãã®ãŸã‚ä»Šå›ã¯ä½ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®æç”»æ‰‹æ³•ã§ã‚ã‚‹ [CustomPaint](https://api.flutter.dev/flutter/widgets/CustomPaint-class.html) ã‚’ä½¿ã£ã¦ã‚°ãƒªãƒƒãƒ‰ã‚’è¡¨ç¾ã—ã¾ã™ã€‚

```dart:painter.dart
import 'package:flutter/material.dart';
import 'package:game_of_life/cell.dart';

class Painter extends CustomPainter {
  Painter({
    @required this.basicLength,
    @required this.width,
    @required this.height,
    @required this.cells,
  });
  double basicLength; // 1 ã‚°ãƒªãƒƒãƒ‰ã®é•·ã•
  int width;
  int height;
  List<Cell> cells;

  void paintCells(Canvas canvas, Paint paint, List<Cell> cells) {
    for (final cell in cells) {
      if (cell.alive) {
        /// æ­£æ–¹å½¢ã‚’æç”»ã—ã¦ã„ã‚‹ã®ã¯ã“ã®éƒ¨åˆ†
        /// Rect.fromLTWH ã¯
        /// legt, top, width, height ã‚’ä¸ãˆã¦ é•·æ–¹å½¢ã‚’ä½œã‚‹ ã¤ã¾ã‚Š...
        /// å·¦ä¸Šã® x åº§æ¨™, å·¦ä¸Šã® y åº§æ¨™, æŒ‡å®šã—ãŸé ‚ç‚¹ã‹ã‚‰ x æ–¹å‘ã¸ã®é•·ã•, æŒ‡å®šã—ãŸé ‚ç‚¹ã‹ã‚‰ y æ–¹å‘ã¸ã®é•·ã•
        /// ã“ã‚Œã§ é•·æ–¹å½¢ã‚’è¡¨ç¾ã™ã‚‹ã€‚
        canvas.drawRect(
          Rect.fromLTWH(
            basicLength * cell.pos.x,
            basicLength * cell.pos.y,
            basicLength,
            basicLength,
          ),
          paint,
        );
      }
    }
  }

  @override
  void paint(Canvas canvas, Size size) {
    final paint = Paint()
      ..style = PaintingStyle.fill
      ..color = Colors.yellow[700];

    paintCells(canvas, paint, cells);
  }

  @override
  bool shouldRepaint(Painter oldDelegate) {
    /// å†æç”»å¯èƒ½ã‹ã©ã†ã‹ã®ãƒ•ãƒ©ã‚°
    return true;
  }
}
```

ã“ã“ã§å®šç¾©ã—ãŸ Painter ã‚¯ãƒ©ã‚¹ã¯ãŸã¨ãˆã°ã“ã®ã‚ˆã†ã«å‘¼ã‚“ã§ä½¿ã„ã¾ã™ã€‚

```dart
body: CustomPaint(
    painter: Painter(
    basicLength: _provider.baseLength,
    height: _provider.height,
    width: _provider.width,
    cells: _provider.cellList,
    ),
),
```

CustomPaint ã¯ã²ã¨ã¤ã® Widget ã¨ã—ã¦ã¿ã¦ãã ã•ã„ã€‚

# 3. åˆæœŸæ¡ä»¶ã®æ±ºã‚æ–¹

ã‚²ãƒ¼ãƒ é–‹å§‹æ™‚ã«ãƒ©ãƒ³ãƒ€ãƒ ã§å¡—ã‚Šã¤ã¶ã™ç®‡æ‰€ã‚’ç”Ÿæˆã™ã‚‹ãªã©ã®æ–¹æ³•ãŒè€ƒãˆã‚‰ã‚Œã¾ã™ã€‚

ä»Šå›ã¯è‡ªç”±ã«åˆæœŸæ¡ä»¶ã‚’æ±ºã‚ãŸã‹ã£ãŸã®ã§ã€ã‚¯ãƒªãƒƒã‚¯ã—ãŸç®‡æ‰€ã® bool ãŒåè»¢ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚

ã‚¯ãƒªãƒƒã‚¯ã¯ Widget ã‚’ä½¿ã£ã¦ã„ã‚‹ãªã‚‰ [Inkwell](https://api.flutter.dev/flutter/material/InkWell-class.html) ã§ãƒ©ãƒƒãƒ—ã™ã‚Œã°ã„ã„ã®ã§ã™ãŒã€ä»Šå›ã¯ CustomPaint ã‚’ä½¿ã£ã¦ã„ã‚‹ã®ã§ãã†ã‚‚ã„ãã¾ã›ã‚“ã€‚

ã“ã‚“ãªã¨ãã¯ [GestureDetector](https://api.flutter.dev/flutter/widgets/GestureDetector-class.html) ã‚’ä½¿ã£ã¦ç›´æ¥ç”»é¢ã®åº§æ¨™ã‚’å–å¾—ã—ã¾ã—ã‚‡ã†ã€‚

å–å¾—ã—ãŸåº§æ¨™ã¨è©²å½“ã™ã‚‹ cell ã‚’ç´ã¥ã‘ã¦åè»¢ã™ã‚‹ã¨ã„ã†æ–¹é‡ã§ã‚„ã£ã¦ã„ã¾ã™ã€‚

åº§æ¨™ã‚’å–ã‚‹ã®ã¯ç°¡å˜ã§ã™ã€‚

```dart
GestureDetector(
    /// onTapDown ã¯ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã«å‘¼ã°ã‚Œã‚‹ details ã®ãªã‹ã«ã„ã‚ã„ã‚æƒ…å ±ãŒå…¥ã£ã¦ã„ã‚‹ã€‚
    onTapDown: (details) {
        if (_provider.editable) {
            /// .localPosition ã§è¦ª Widget ã®ä¸­ã§ã®ç›¸å¯¾çš„ãªä½ç½®ã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚
            print(details.localPosition);
        }
    },
)
```

ã“ã“ã§å¾—ã‚‰ã‚Œã‚‹ position æƒ…å ±ã‚’ idnex æƒ…å ±ã«å¤‰æ›ã—ã¦æ´»ç”¨ã—ã¦ã„ã¾ã™ã€‚

å¤‰æ›ã®ã‚³ãƒ¼ãƒ‰ã¯ã“ã‚“ãªæ„Ÿã˜ã§ã™ã€‚

```dart
int positionToIndex(Offset position) =>
      position.dx ~/ baseLength + position.dy ~/ baseLength * width;
```

Cell class ã§å®šç¾©ã—ãŸ pointToIndex ã« baseLength ãŒå…¥ã£ãŸã ã‘ã§ã™ã­ã€‚

# 4. ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®å®Ÿè£…

Cell ã‚¯ãƒ©ã‚¹ã®ä¸­ã§å‘¨å›² 8 ãƒã‚¹ã®åº§æ¨™ãƒªã‚¹ãƒˆã‚’å–ã£ã¦ãã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®šç¾©ã—ãŸã®ã§ã‚‚ã†ç°¡å˜ã§ã™ã€‚

```dart
/// å…¨ã¦ã® cells ã«ã¤ã„ã¦æ¬¡ã®ä¸–ä»£ã®ç”Ÿæ­»ã‚’èª¿ã¹ã‚‹
  void _nextGenerations() {

    /// ã‚‚ã¨ã‚ã‚‹ãƒªã‚¹ãƒˆã«ä¸Šæ›¸ãã—ã¦ã„ãè¨ˆç®—é€”ä¸­ã§å€¤ãŒå¤‰åŒ–ã—ã¦ã„ã£ã¦ã—ã¾ã„ã¾ã™ã€‚
    /// ãªã®ã§ä¸€åº¦åˆ¥ãƒªã‚¹ãƒˆã¨ã—ã¦é¿é›£ã•ã›ã¦ã„ã¾ã™ã€‚
    final tmpList = List<Cell>.from(_cellList);
    for (var index = 0; index < cellList.length; index++) {
      final pointList = cellList[index].getPointAroundMe;
      var count = 0;
      for (final point in pointList) {
        /// åº§æ¨™ãŒ è¨­å®šã—ãŸ width height ã‚’è¶…ãˆã¦ã„ãªã„ã‹ãƒã‚§ãƒƒã‚¯ã—ã¦ã„ã¾ã™ã€‚
        if (point.x > -1 &&
            point.x < width &&
            point.y > -1 &&
            point.y < height) {

            /// ã“ã“ã§ã‚ã–ã‚ã– index ã«æˆ»ã—ã¦ä½¿ã£ã¦ã„ã¾ã™ã€‚
            /// ã“ã†ã™ã‚Œã°é…åˆ—ã‚’ç›´æ¥æŒ‡å®šã—ã¦èª¿ã¹ã‚‰ã‚Œã¾ã™ã­ã€‚
          if (cellList[Cell.pointToIndex(point, width)].alive) {
            count++;
          }
        }
      }
      /// ã‚»ãƒ«ãŒç”Ÿãã¦ã„ã‚Œã° 2, 3 ã§ç”Ÿå­˜
      if (cellList[index].alive) {
        if (count < 2 || count > 3) {
          tmpList[index] = tmpList[index].copyWith(alive: false);
        }
        /// ã‚»ãƒ«ãŒæ­»ã‚“ã§ã„ã‚Œã° 3 ã§èª•ç”Ÿ
      } else {
        if (count == 3) {
          tmpList[index] = tmpList[index].copyWith(alive: true);
        }
      }
      /// ç¾çŠ¶ç¶­æŒã‚’é™¤ãã¨ã€æ¡ä»¶ã£ã¦ã“ã®äºŒã¤ã—ã‹ãªã„ã‚“ã§ã™ã‚ˆã­ã€‚
    }
    /// æœ€å¾Œã«ä¸€æ™‚é€€é¿ã—ã¦ã„ãŸãƒªã‚¹ãƒˆã‚’å…ƒã®ãƒªã‚¹ãƒˆã«è¿”ã—ã¦æ›´æ–°ã‚’ã‹ã‘ã¦ã„ã¾ã™ã€‚
    _cellList = tmpList;
  }
```

è§£èª¬ã¯ä»¥ä¸Šã§ã™ï¼ã€€ã‚³ãƒ¼ãƒ‰ã®å…¨ä½“åƒã¯ã“ã¡ã‚‰ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚
https://github.com/kenta-wakasa/game_of_life

# ãŠã—ã¾ã„ã«

ä½¿ã† Widhet ã«ã‚ˆã£ã¦ã“ã‚“ãªã«ã‚‚é‡ã•ãŒå¤‰ã‚ã‚‹ã®ã‹ã¨å®Ÿæ„Ÿã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã—ãŸã€‚
ã“ã‚Œã¨ã¯ã¾ãŸé•ã£ãŸå®Ÿè£…æ–¹é‡ã§ä½œã£ã¦ã„ã‚‹ã‚‚ã®ã‚’è¦‹ã¦ã¿ãŸã„ã§ã™ã­ã€‚
1 æ—¥ãã‚‰ã„ã§ã§ãã‚‹ã¨æ€ã†ã®ã§ã€æš‡ã¤ã¶ã—ã«ã„ã‹ãŒã§ã—ã‚‡ã†ã‹ã€‚
